create database bdClinica;

use bdClinica;

create table convenios(
codigo_CONVENIO int auto_increment not null primary key,
nome_CONVENIO varchar(30) not null,
telefone_CONVENIO varchar(13) not null
);

create table pacientes(
cpf_PACIENTE varchar(11) not null primary key,
rg_PACIENTE VARCHAR(9) nOT nUlL,
numeroCartao_PACIENTE varchar(30) not null,
nome_PACIENTE varchar(120) not null,
dataNascimento_PACIENTE date not null,
tipoSanguineo_PACIENTE varchar(2),
endereco_PACIENTE varchar(120) not null,
bairro_PACIENTE varchar(60) not null,
cidade_PACIENTE varchar(60) not null,
estado_PACIENTE varchar(2) not null,
telefone_PACIENTE varchar(11) not null,
email_PACIENTE varchar(120)
);

create table salas(
codigo_SALA varchar(4) not null primary key,
bloco_SALA varchar(1) not null,
andar_SALA int not null,
numero_SALA int not null
);

create table medicos(
crm_MEDICO varchar(7) not null primary key,
cpf_MEDICO varchar(11) not null,
rg_MEDICO VARCHAR(9) nOT nUlL,
nome_MEDICO varchar(120) not null,
dataNascimento_MEDICO date not null,
endereco_MEDICO varchar(120) not null,
bairro_MEDICO varchar(60) not null,
cidade_MEDICO varchar(60) not null,
estado_MEDICO varchar(2) not null,
telefone_MEDICO varchar(11) not null,
email_MEDICO varchar(120)
);

create table obitos(
	registro_OBITO int auto_increment not null primary key,
	data_OBITO date not null,
	hora_OBITO date not null,
	causa_OBITO text not null, 
	cpfPaciente_OBITO varchar(11) not null,
	crmMedico_OBITO varchar(7) not null,

	FOREIGN KEY (cpfPaciente_OBITO) references pacientes(cpf_PACIENTE),
	FOREIGN KEY (crmMedico_OBITO) references medicos(crm_MEDICO)

);

create table consultas(
	registro_CONSULTA int auto_increment not null primary key,
	data_CONSULTA date not null,
	hora_CONSULTA date not null,
	diagnostico_CONSULTA text not null, 
	cpfPaciente_CONSULTA varchar(11) not null,
	crmMedico_CONSULTA varchar(7) not null,
	codigoSala_CONSULTA varchar(4) not null,

	FOREIGN KEY (cpfPaciente_CONSULTA) references pacientes(cpf_PACIENTE),
	FOREIGN KEY (crmMedico_CONSULTA) references medicos(crm_MEDICO),
	FOREIGN KEY (codigoSala_CONSULTA) references salas(codigo_SALA)

);

create table especialidades(
  codigo_ESPECIALIDADE int auto_increment not null primary key,
  nome_ESPECIALIDADE varchar(30) not null
);